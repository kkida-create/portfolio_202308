{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { useUserStore } from '@/store/user.js';\nexport default {\n  setup() {\n    const userStore = useUserStore();\n    const email = ref('');\n    const password = ref('');\n    function login() {\n      userStore.login(email.value, password.value);\n    }\n    function logout() {\n      userStore.logout();\n    }\n\n    // コンポーネントがマウントされた後にユーザーデータを取得する\n    onMounted(async () => {\n      await userStore.fetchUsers();\n    });\n    return {\n      loggedInUser: userStore.loggedInUser,\n      username,\n      password,\n      login,\n      logout\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useUserStore","setup","userStore","email","password","login","value","logout","fetchUsers","loggedInUser","username"],"sources":["/Users/kitakanta/Desktop/comvace関係/comvace6_1/src/views/LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- ログインしている場合 -->\n    <div v-if=\"loggedInUser\">\n      <h1>ようこそ、{{ loggedInUser.username }}さん！</h1>\n      <button @click=\"logout\">ログアウト</button>\n    </div>\n\n    <!-- ログインしていない場合 -->\n    <div v-else>\n      <h1>ログインしてください</h1>\n      <input v-model=\"username\" type=\"text\" placeholder=\"ユーザー名\" />\n      <input v-model=\"password\" type=\"password\" placeholder=\"パスワード\" />\n      <button @click=\"login\">ログイン</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useUserStore } from '@/store/user.js'\n\nexport default {\n  setup() {\n    const userStore = useUserStore()\n    const email = ref('')\n    const password = ref('')\n\n    function login() {\n      userStore.login(email.value, password.value)\n    }\n\n    function logout() {\n      userStore.logout()\n    }\n\n    // コンポーネントがマウントされた後にユーザーデータを取得する\n    onMounted(async () => {\n      await userStore.fetchUsers()\n    })\n\n    return {\n      loggedInUser: userStore.loggedInUser,\n      username,\n      password,\n      login,\n      logout,\n    }\n  },\n}\n</script>\n"],"mappings":"AAmBA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,YAAW,QAAS,iBAAgB;AAE7C,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,SAAQ,GAAIF,YAAY,CAAC;IAC/B,MAAMG,KAAI,GAAIL,GAAG,CAAC,EAAE;IACpB,MAAMM,QAAO,GAAIN,GAAG,CAAC,EAAE;IAEvB,SAASO,KAAKA,CAAA,EAAG;MACfH,SAAS,CAACG,KAAK,CAACF,KAAK,CAACG,KAAK,EAAEF,QAAQ,CAACE,KAAK;IAC7C;IAEA,SAASC,MAAMA,CAAA,EAAG;MAChBL,SAAS,CAACK,MAAM,CAAC;IACnB;;IAEA;IACAR,SAAS,CAAC,YAAY;MACpB,MAAMG,SAAS,CAACM,UAAU,CAAC;IAC7B,CAAC;IAED,OAAO;MACLC,YAAY,EAAEP,SAAS,CAACO,YAAY;MACpCC,QAAQ;MACRN,QAAQ;MACRC,KAAK;MACLE;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}