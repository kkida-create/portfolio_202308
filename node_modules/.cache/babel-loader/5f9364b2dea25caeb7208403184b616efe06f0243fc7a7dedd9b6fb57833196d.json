{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      user_id: '',\n      password: '',\n      errorMessage: '',\n      setLoggedIn: false\n    };\n  },\n  methods: {\n    login() {\n      const url = 'https://script.google.com/macros/s/AKfycbxPPRr6_EsmzMvNysIPxsr56-mRuSGJvzK7zJ8YOXlYFdZ0_suSmj4EtY0y0ejDUrH5/exec';\n      const options = {\n        method: 'POST',\n        // headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          user_id: this.user_id,\n          password: this.password\n        })\n      };\n      fetch(url, options).then(response => response.json()).then(data => {\n        if (data.success) {\n          // ログインOKだった場合の処理を記載してください\n          this.$store.commit('setLoggedIn', true);\n          if (!window.history.length) {\n            this.$router.push('/mypage');\n          } else {\n            window.history.back();\n          }\n        } else {\n          this.errorMessage = 'ユーザIDもしくはパスワードが違います。';\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    newRegister() {\n      this.$router.push('/sign-up');\n    }\n  }\n};","map":{"version":3,"names":["data","user_id","password","errorMessage","setLoggedIn","methods","login","url","options","method","body","JSON","stringify","fetch","then","response","json","success","$store","commit","window","history","length","$router","push","back","catch","error","console","log","newRegister"],"sources":["/Users/kitakanta/Desktop/comvace関係/comvace6_1/src/views/LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"login-wrapper\">\n    <div class=\"login-group\">\n      <p class=\"login-title\">会員の方は、以下からログインしてください。</p>\n      <form class=\"login-form\" @submit.prevent=\"login\">\n        <div class=\"login-form-box\">\n          <p class=\"login-label\">ログインＩＤ</p>\n          <input type=\"id\" v-model=\"user_id\" class=\"login-input-box\" />\n        </div>\n        <div class=\"login-form-box\">\n          <p class=\"login-label\">パスワード</p>\n          <input type=\"password\" v-model=\"password\" class=\"login-input-box\" />\n        </div>\n      </form>\n      <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n      <div class=\"button-box\">\n        <button type=\"button\" class=\"login-button\" @click=\"login\">LOGIN</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      user_id: '',\n      password: '',\n      errorMessage: '',\n      setLoggedIn: false,\n    }\n  },\n  methods: {\n    login() {\n      const url =\n        'https://script.google.com/macros/s/AKfycbxPPRr6_EsmzMvNysIPxsr56-mRuSGJvzK7zJ8YOXlYFdZ0_suSmj4EtY0y0ejDUrH5/exec'\n      const options = {\n        method: 'POST',\n        // headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ user_id: this.user_id, password: this.password }),\n      }\n      fetch(url, options)\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.success) {\n            // ログインOKだった場合の処理を記載してください\n            this.$store.commit('setLoggedIn', true)\n            if (!window.history.length) {\n              this.$router.push('/mypage')\n            } else {\n              window.history.back()\n            }\n          } else {\n            this.errorMessage = 'ユーザIDもしくはパスワードが違います。'\n          }\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    newRegister() {\n      this.$router.push('/sign-up')\n    },\n  },\n}\n</script>\n<style>\n.login-wrapper {\n  background: #fff;\n  font-size: 20px;\n}\n\n.login-title {\n  text-align: center;\n}\n\n.error-message {\n  color: red;\n  margin-top: 15px;\n  text-align: center;\n}\n\n.button-box {\n  text-align: center;\n  margin-top: 100px;\n}\n\n.login-button {\n  background: #eee;\n  border: none;\n  cursor: pointer;\n  border-radius: 18px;\n  height: 70px;\n  width: 250px;\n}\n\n.login-button:hover {\n  background: #999f;\n}\n\n.password-link {\n  color: #333f8b;\n}\n\n.new-login-title {\n  font-weight: normal;\n  text-align: center;\n}\n\n.new-login {\n  text-align: center;\n  margin-top: 30px;\n}\n\n.new-login-group {\n  background: #eee;\n  padding: 50px 0;\n}\n\n.new-login-button {\n  background: #e7d4b6;\n  border: none;\n  cursor: pointer;\n  border-radius: 18px;\n  height: 70px;\n  width: 250px;\n}\n\n.new-login-button:hover {\n  background: #ccb596;\n}\n\n.login-group {\n  padding: 60px 0;\n}\n\n.login-form-box {\n  display: flex;\n  justify-content: center;\n  margin-top: 40px;\n}\n\n.login-label {\n  text-align: right;\n  width: 150px;\n}\n\n.login-input-box {\n  margin-left: 5em;\n  width: 400px;\n}\n\n.link-box {\n  margin: 30px 10% 0 0;\n  text-align: right;\n}\n@media screen and (min-width: 950px) {\n  .login-wrapper {\n    min-width: 950px;\n    overflow-x: auto;\n  }\n}\n</style>\n"],"mappings":";AAsBA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAKA,CAAA,EAAG;MACN,MAAMC,GAAE,GACN,kHAAiH;MACnH,MAAMC,OAAM,GAAI;QACdC,MAAM,EAAE,MAAM;QACd;QACAC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEX,OAAO,EAAE,IAAI,CAACA,OAAO;UAAEC,QAAQ,EAAE,IAAI,CAACA;QAAS,CAAC;MACzE;MACAW,KAAK,CAACN,GAAG,EAAEC,OAAO,EACfM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAClCF,IAAI,CAAEd,IAAI,IAAK;QACd,IAAIA,IAAI,CAACiB,OAAO,EAAE;UAChB;UACA,IAAI,CAACC,MAAM,CAACC,MAAM,CAAC,aAAa,EAAE,IAAI;UACtC,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,MAAM,EAAE;YAC1B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,SAAS;UAC7B,OAAO;YACLJ,MAAM,CAACC,OAAO,CAACI,IAAI,CAAC;UACtB;QACF,OAAO;UACL,IAAI,CAACtB,YAAW,GAAI,sBAAqB;QAC3C;MACF,CAAC,EACAuB,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK;MACnB,CAAC;IACL,CAAC;IACDG,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACP,OAAO,CAACC,IAAI,CAAC,UAAU;IAC9B;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}